{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.Extensions.Hosting": "Warning",
      "Microsoft.Extensions.Http": "Warning",
      "System.Net.Http": "Warning"
    }
  },
  "Agent": {
    "MachineId": null,
    "ApiBaseUrl": "https://api.eam.local",
    "SyncIntervalSeconds": 60,
    "OfflineRetentionDays": 7,
    "MaxRetryAttempts": 3,
    "RetryDelaySeconds": 30
  },
  "Trackers": {
    "WindowTracker": {
      "Enabled": true,
      "IntervalSeconds": 1
    },
    "BrowserTracker": {
      "Enabled": true,
      "IntervalSeconds": 2
    },
    "TeamsTracker": {
      "Enabled": true,
      "IntervalSeconds": 5
    },
    "ScreenshotCapturer": {
      "Enabled": true,
      "IntervalSeconds": 60,
      "Quality": 75,
      "MaxWidth": 1920,
      "MaxHeight": 1080
    },
    "ProcessMonitor": {
      "Enabled": true,
      "IntervalSeconds": 5
    }
  },
  "Scoring": {
    "DefaultProductivityScore": 50,
    "Categories": {
      "Productive": ["outlook", "word", "excel", "powerpoint", "teams", "visual studio", "vscode", "notepad++", "slack"],
      "Neutral": ["explorer", "notepad", "calculator", "control panel"],
      "Unproductive": ["games", "social", "entertainment", "youtube", "facebook", "twitter", "instagram"]
    }
  },
  "Telemetry": {
    "ServiceName": "EAM.Agent",
    "ServiceVersion": "5.0.0",
    "OtlpEndpoint": "http://localhost:4317",
    "ExportIntervalSeconds": 30,
    "EnableMetrics": true,
    "EnableTracing": true,
    "EnableLogging": true
  },
  "Database": {
    "ConnectionString": "Data Source=%LOCALAPPDATA%\\EAM\\agent.db"
  },
  "Plugins": {
    "Directory": "%PROGRAMDATA%\\EAM\\plugins",
    "LoadOnStartup": true,
    "IsolationLevel": "Full",
    "ScanIntervalSeconds": 300
  },
  "Security": {
    "ApiKey": null,
    "JwtTokenPath": "%LOCALAPPDATA%\\EAM\\token.jwt",
    "CertificateValidation": true
  },
  "Updates": {
    "AutoUpdate": true,
    "EnablePreRelease": false,
    "RequireSignedUpdates": true,
    "CheckIntervalMinutes": 60,
    "MaxRetryAttempts": 3,
    "RetryDelayMinutes": 15,
    "DownloadTimeoutMinutes": 30,
    "InstallTimeoutMinutes": 10,
    "BackupRetentionDays": 30,
    "RequireUserConsent": false,
    "RestartAfterUpdate": true,
    "RestartDelayMinutes": 5,
    "AllowRollback": true,
    "TrustedPublisher": "EAM Technologies",
    "UpdateChannel": "stable",
    "EnableTelemetry": true,
    "ValidateUpdatePackage": true,
    "MinimumDiskSpaceMB": 500,
    "ExcludedVersions": [],
    "Scheduling": {
      "Enabled": true,
      "WindowStart": "02:00",
      "WindowEnd": "06:00",
      "AllowedDaysOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
      "RespectActiveHours": true,
      "ActiveHoursStart": "08:00",
      "ActiveHoursEnd": "18:00",
      "MaintenanceWindowMinutes": 120,
      "AllowUpdatesDuringBatteryPower": false,
      "MinimumBatteryLevel": 50
    },
    "Notifications": {
      "Enabled": true,
      "OnUpdateAvailable": true,
      "OnUpdateInstalled": true,
      "OnUpdateFailed": true,
      "BeforeRestart": true,
      "TimeoutMinutes": 10,
      "Sound": "Default",
      "ShowProgressDialog": false
    },
    "Proxy": {
      "Enabled": false,
      "Address": "",
      "Port": 8080,
      "RequiresAuth": false,
      "Username": "",
      "Password": "",
      "BypassLocal": true
    },
    "Logging": {
      "Verbose": false,
      "LogToFile": true,
      "FilePath": "%LOCALAPPDATA%\\EAM\\Logs\\updates.log",
      "RetentionDays": 30,
      "MaxFileSizeMB": 10
    },
    "Network": {
      "TimeoutSeconds": 30,
      "MaxRetries": 3,
      "RetryDelaySeconds": 5,
      "VerifySSL": true,
      "UserAgent": "EAM-Agent-Updater/5.0",
      "MaxConcurrentDownloads": 1,
      "BufferSizeKB": 8
    },
    "Security": {
      "AllowUnsignedUpdates": false,
      "AllowDowngradeUpdates": false,
      "ValidateUpdateSource": true,
      "AllowedUpdateSources": ["https://updates.eam.local"],
      "RequireAdminPrivileges": true,
      "EnableUpdateSigning": true,
      "SigningCertificateThumbprint": "",
      "AllowBetaUpdates": false
    }
  }
}